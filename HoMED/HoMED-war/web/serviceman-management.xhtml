<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="template/template.xhtml"
                xmlns:ezcomp="http://xmlns.jcp.org/jsf/composite/ezcomp">

    <ui:define name="title">Serviceman Account Management</ui:define>

    <ui:define name="content">

        <h:outputStylesheet name="crud-tables.css" library="css" />

        <style type="text/css">
            .label {
                font-weight: bold;
            }
            .error-label {
                background-color: rgb(255, 220, 224) !important;
            }
            .error-output-message {
                background-color: rgb(255, 238, 240) !important;
            }
            .modified-label-new-serviceman {
                background-color: rgb(205, 255, 216);
            }
            .modified-output-message-new-serviceman {
                background-color: rgb(230, 255, 237);
            }
            .modified-label-existing-serviceman {
                background-color: rgb(219, 237, 255);
            }
            .modified-output-message-existing-serviceman {
                background-color: rgb(241, 248, 255);
            }
            .p-field.p-grid .p-col-fixed, .p-formgrid.p-grid .p-col-fixed, .p-field.p-grid .p-col, .p-formgrid.p-grid .p-col, .p-formgroup .p-grid .p-col-1, .p-formgrid.p-grid .p-col-1, .p-field.p-grid .p-col-2, .p-formgrid.p-grid .p-col-2, .p-field.p-grid .p-col-3, .p-formgrid.p-grid .p-col-3, .p-field.p-grid .p-col-4, .p-formgroup.p-grid .p-col-4, .p-field.p-grid .p-col-5, .p-formgrid.p-grid .p-col-5, .p-field.p-grid .p-col-6, .p-formgrid.p-grid .p-col-6, .p-formgroup .p-grid .p-col-7, .p-formgrid.p-grid .p-col-7, .p-field.p-grid .p-col-8, .p-formgrid.p-grid .p-col-8, .p-formgroup .p-grid .p-col-9, .p-formgrid.p-grid .p-col-9, .p-field.p-grid .p-col-10, .p-formgrid.p-grid .p-col-10, .p-field.p-grid .p-col-11, .p-formgroup.p-grid .p-col-11, .p-field.p-grid .p-col-12, .p-formgrid.p-grid .p-col-12 {
                padding-top: 0.5rem;
                padding-bottom: 0.5rem;
            }
            .p-field {
                margin-top: 0.15rem;
                margin-bottom: 0.15rem;
            }
        </style>

        <ezcomp:manageServiceman id="ccManageServiceman">
            <f:ajax event="dialogCloseEvent" listener="#{servicemanAccountManagementManagedBean.dialogActionListener}"/>
        </ezcomp:manageServiceman>

        <h:form id="formAllServicemen">
            <div class="p-grid crud-table">
                <div class="p-col-12">
                    <div class="card">
                        <p:growl id="growl-message" showDetail="true" />

                        <div class="buttonbar">
                            <p:splitButton value="New" icon="pi pi-plus" styleClass="success-button" title="Create"
                                           update="ccManageServiceman:formManageServiceman" process="@this" immediate="true" 
                                           actionListener="#{servicemanAccountManagementManagedBean.manageServicemanManagedBean.initCreate}" oncomplete="PF('dialogManageServiceman').show()">
                                <p:resetInput target="ccManageServiceman:formManageServiceman:panelManageServiceman" />

                                <p:menuitem value="Bulk Import" icon="pi pi-upload" title="Import" update="formBulkImportServicemen" process="@this"
                                            oncomplete="PF('dialogBulkImportServicemen').show()" />
                            </p:splitButton>
                        </div>

                        <p:dataTable id="dataTableServicemen" widgetVar="dataTableServicemen"  var="serviceman" value="#{servicemanAccountManagementManagedBean.servicemen}" sortBy="#{serviceman.servicemanId}"
                                     styleClass="crud-management-table" rowKey="#{serviceman.servicemanId}" paginator="true" rows="10" paginatorPosition="bottom">

                            <f:facet name="header">
                                <div class="crud-table-header">
                                    <span style="font-weight: bold">SERVICEMEN</span>

                                    <span class="filter-container ui-input-icon-left">
                                        <i class="pi pi-search" />
                                        <p:inputText id="globalFilter" onkeyup="PF('dataTableServicemen').filter()" placeholder="Search" />
                                    </span>
                                </div>
                            </f:facet>

                            <p:column headerText="ID" width="3%" sortBy="#{serviceman.servicemanId}" filterBy="#{serviceman.servicemanId}" filterMatchMode="contains">
                                <h:outputText value="#{serviceman.servicemanId}" />
                            </p:column>

                            <p:column headerText="Name" width="10%" sortBy="#{serviceman.name}" filterBy="#{serviceman.name}" filterMatchMode="contains">
                                <h:outputText value="#{serviceman.name}" />
                            </p:column>

                            <p:column headerText="Email" width="15%" sortBy="#{serviceman.email}" filterBy="#{serviceman.email}" filterMatchMode="contains">
                                <h:outputText value="#{serviceman.email}" />
                            </p:column>

                            <p:column headerText="Gender" width="5%" sortBy="#{serviceman.gender}" filterBy="#{serviceman.gender}" filterMatchMode="contains">
                                <h:outputText value="#{serviceman.gender}" />
                            </p:column>

                            <p:column headerText="Phone Number" width="7%" sortBy="#{serviceman.phoneNumber}" filterBy="#{serviceman.phoneNumber}" filterMatchMode="contains">
                                <h:outputText value="#{serviceman.phoneNumber}" />
                            </p:column>

                            <p:column headerText="Action" width="3%">
                                <p:commandButton icon="pi pi-search" styleClass="info-button rounded-button p-mr-2 p-mb-2" title="View"
                                                 update="ccManageServiceman:formManageServiceman:panelManageServiceman" process="@this" 
                                                 actionListener="#{servicemanAccountManagementManagedBean.manageServicemanManagedBean.initManage()}" oncomplete="PF('dialogManageServiceman').show()">
                                    <p:resetInput target="ccManageServiceman:formManageServiceman:panelManageServiceman"/>
                                    <f:setPropertyActionListener target="#{servicemanAccountManagementManagedBean.manageServicemanManagedBean.servicemanToView}" value="#{serviceman}"/>
                                </p:commandButton>
                            </p:column>

                        </p:dataTable>
                    </div>
                </div>
            </div>
        </h:form>

        <h:form id="formBulkImportServicemen" enctype="multipart/form-data">
            <p:dialog id="dialogBulkImportServicemen" widgetVar="dialogBulkImportServicemen" header="Bulk Import Servicemen" showEffect="fade"
                      draggable="false" modal="true" responsive="true" fitViewport="true"
                      minWidth="500" width="1100" height="700">
                <p:outputPanel id="panelBulkImportServicemen">
                    <p:fileUpload mode="advanced" auto="true" process="@form" dragDropSupport="true" update="panelGroupBulkImportServicemen"
                                  listener="#{servicemanAccountManagementManagedBean.uploadCsv}" />
                    
                    <p:separator />

                    <h:panelGroup id='panelGroupBulkImportServicemen'>
                        <ui:fragment rendered='#{servicemanAccountManagementManagedBean.isUploaded}'>
                            <div class="p-grid">
                                <div class="p-col-12">
                                    <p:repeat value="#{servicemanAccountManagementManagedBean.servicemanWrappers}" var="servicemanWrapper" >
                                        <div class="card ui-fluid">
                                            <div class="p-formgrid p-grid">
                                                <div class="p-field p-col-12 p-md-12 p-sm-12">

                                                    <div class="p-formgrid p-grid">
                                                        <div class="p-field p-col" style="text-align: center;">
                                                            <!-- Validity of Imported Servicemen -->
                                                            <ui:fragment rendered="#{servicemanWrapper.isValid}" >
                                                                <span class="form-status-badge status-valid">VALID</span>
                                                            </ui:fragment>
                                                            <ui:fragment rendered="#{not servicemanWrapper.isValid}" >
                                                                <span class="form-status-badge status-invalid">INVALID</span>
                                                            </ui:fragment>

                                                            <!-- Existence of Imported Servicemen -->
                                                            <ui:fragment rendered="#{servicemanWrapper.existingServiceman eq null}" >
                                                                <span class="form-status-badge status-create">CREATE</span>
                                                            </ui:fragment>
                                                            <ui:fragment rendered="#{servicemanWrapper.existingServiceman ne null}" >
                                                                <span class="form-status-badge status-update">UPDATE</span>
                                                            </ui:fragment>
                                                        </div>
                                                    </div>

                                                    <div class="p-formgrid p-grid">
                                                        <div class="p-field p-col-2 #{servicemanWrapper.errorMessages.get(3) ne null ? 'error-label' : null}"><h5>Serviceman Email</h5></div>
                                                        <ui:fragment rendered="#{servicemanWrapper.errorMessages.get(3) ne null}">
                                                            <div class="p-field p-col-10 error-output-message">
                                                                <h5>#{servicemanWrapper.errorMessages.get(3)}</h5>
                                                            </div>
                                                        </ui:fragment>

                                                        <ui:fragment rendered="#{servicemanWrapper.errorMessages.get(3) eq null}">
                                                            <div class="p-field p-col-8">
                                                                <h5>#{servicemanWrapper.newServiceman.email}</h5>
                                                            </div>

                                                            <div class="p-col-2" style="text-align: right;">

                                                                <ui:fragment rendered="#{servicemanWrapper.isValid}" >
                                                                    <p:selectBooleanCheckbox value="#{servicemanWrapper.isSelected}">
                                                                        <p:ajax update="formBulkImportServicemen:panelGroupBulkImportServicemen" process="@this"
                                                                                listener="#{servicemanAccountManagementManagedBean.selectServicemanToImport(servicemanWrapper)}" />
                                                                    </p:selectBooleanCheckbox>
                                                                    <p:outputLabel value="IMPORT" style="margin-left: 0.5rem; margin-right: 0.25rem;" />
                                                                </ui:fragment>

                                                                <ui:fragment rendered="#{not servicemanWrapper.isValid}">
                                                                    <p:selectBooleanCheckbox value="#{servicemanWrapper.isDismissed}">
                                                                        <p:ajax update="formBulkImportServicemen:panelGroupBulkImportServicemen" process="@this" />
                                                                    </p:selectBooleanCheckbox>
                                                                    <p:outputLabel value="DISMISS" style="margin-left: 0.5rem; margin-right: 0.25rem;" />
                                                                </ui:fragment>

                                                            </div>
                                                        </ui:fragment>
                                                    </div>

                                                    <h:panelGroup id="panelGroupServicemanDetails" rendered="#{servicemanWrapper.errorMessages.get(3) eq null and not servicemanWrapper.isSelected and not servicemanWrapper.isDismissed}">
                                                        <div class="card ui-fluid" style="padding-top: 0 !important; padding-bottom: 0 !important;">
                                                            <div class="p-formgrid p-grid">
                                                                <div class="p-field p-col-6" style="background-color: rgb(146, 164, 175)"><p:outputLabel class="label">Existing Serviceman</p:outputLabel></div>
                                                                <div class="p-field p-col-6" style="background-color: rgb(173, 185, 197)"><p:outputLabel class="label">New Serviceman</p:outputLabel></div>
                                                            </div>

                                                            <div class="p-formgrid p-grid">
                                                                <div class="p-field p-col-12"  style="background-color: #11a9df"><p:outputLabel class="label">Personal</p:outputLabel></div>
                                                            </div>

                                                            <!-- Name -->
                                                            <div class="p-formgrid p-grid">                                                                                
                                                                <div class="p-field p-col-1 
                                                                     #{servicemanWrapper.existingServiceman ne null 
                                                                       and servicemanWrapper.existingServiceman.name ne servicemanWrapper.newServiceman.name ? 'modified-label-existing-serviceman' : null}">
                                                                    <p:outputLabel class="label">Name</p:outputLabel>
                                                                </div>

                                                                <div class="p-field p-col-5 
                                                                     #{servicemanWrapper.existingServiceman ne null 
                                                                       and servicemanWrapper.existingServiceman.name ne servicemanWrapper.newServiceman.name ? 'modified-output-message-existing-serviceman' : null}">
                                                                    <h:outputText value="#{servicemanWrapper.existingServiceman.name}" />
                                                                </div>

                                                                <div class="p-field p-col-1
                                                                     #{servicemanWrapper.errorMessages.get(0) ne null ? 'error-label' : null}
                                                                     #{servicemanWrapper.existingServiceman.name ne servicemanWrapper.newServiceman.name ? 'modified-label-new-serviceman' : null}">
                                                                    <p:outputLabel class="label">Name</p:outputLabel>
                                                                </div>

                                                                <div class="p-field p-col-5
                                                                     #{servicemanWrapper.errorMessages.get(0) ne null ? 'error-output-message' : null}
                                                                     #{servicemanWrapper.existingServiceman.name ne servicemanWrapper.newServiceman.name ? 'modified-output-message-new-serviceman' : null}">
                                                                    <h:outputText rendered="#{servicemanWrapper.errorMessages.get(0) eq null}" value="#{servicemanWrapper.newServiceman.name}" />
                                                                    <h:outputText rendered="#{servicemanWrapper.errorMessages.get(0) ne null}" value="#{servicemanWrapper.errorMessages.get(0)}" />
                                                                </div>
                                                            </div>

                                                            <!-- Gender -->
                                                            <div class="p-formgrid p-grid">
                                                                <div class="p-field p-col-1
                                                                     #{servicemanWrapper.existingServiceman ne null 
                                                                       and servicemanWrapper.existingServiceman.gender ne servicemanWrapper.newServiceman.gender ? 'modified-label-existing-serviceman' : null}">
                                                                    <p:outputLabel class="label">Gender</p:outputLabel>
                                                                </div>

                                                                <div class="p-field p-col-5
                                                                     #{servicemanWrapper.existingServiceman ne null 
                                                                       and servicemanWrapper.existingServiceman.gender ne servicemanWrapper.newServiceman.gender ? 'modified-output-message-existing-serviceman' : null}">
                                                                    <h:outputText value="#{servicemanWrapper.existingServiceman.gender}" />
                                                                </div>

                                                                <div class="p-field p-col-1
                                                                     #{servicemanWrapper.errorMessages.get(1) ne null ? 'error-label' : null}
                                                                     #{servicemanWrapper.existingServiceman.gender ne servicemanWrapper.newServiceman.gender ? 'modified-label-new-serviceman' : null}">
                                                                    <p:outputLabel class="label">Gender</p:outputLabel>
                                                                </div>

                                                                <div class="p-field p-col-5
                                                                     #{servicemanWrapper.errorMessages.get(1) ne null ? 'error-output-message' : null}
                                                                     #{servicemanWrapper.existingServiceman.gender ne servicemanWrapper.newServiceman.gender ? 'modified-output-message-new-serviceman' : null}">
                                                                    <h:outputText rendered="#{servicemanWrapper.errorMessages.get(1) eq null}" value="#{servicemanWrapper.newServiceman.gender}" />
                                                                    <h:outputText rendered="#{servicemanWrapper.errorMessages.get(1) ne null}" value="#{servicemanWrapper.errorMessages.get(1)}" />
                                                                </div>
                                                            </div>

                                                            <!-- Phone -->
                                                            <div class="p-formgrid p-grid">
                                                                <div class="p-field p-col-1
                                                                     #{servicemanWrapper.existingServiceman ne null 
                                                                       and servicemanWrapper.existingServiceman.phoneNumber ne servicemanWrapper.newServiceman.phoneNumber ? 'modified-label-existing-serviceman' : null}">
                                                                    <p:outputLabel class="label">Phone</p:outputLabel>
                                                                </div>

                                                                <div class="p-field p-col-5
                                                                     #{servicemanWrapper.existingServiceman ne null 
                                                                       and servicemanWrapper.existingServiceman.phoneNumber ne servicemanWrapper.newServiceman.phoneNumber ? 'modified-output-message-existing-serviceman' : null}">
                                                                    <h:outputText value="#{servicemanWrapper.existingServiceman.phoneNumber}" />
                                                                </div>

                                                                <div class="p-field p-col-1
                                                                     #{servicemanWrapper.errorMessages.get(2) ne null ? 'error-label' : null}
                                                                     #{servicemanWrapper.existingServiceman.phoneNumber ne servicemanWrapper.newServiceman.phoneNumber ? 'modified-label-new-serviceman' : null}">
                                                                    <p:outputLabel class="label">Phone</p:outputLabel>
                                                                </div>

                                                                <div class="p-field p-col-5
                                                                     #{servicemanWrapper.errorMessages.get(2) ne null ? 'error-output-message' : null}
                                                                     #{servicemanWrapper.existingServiceman.phoneNumber ne servicemanWrapper.newServiceman.phoneNumber ? 'modified-output-message-new-serviceman' : null}">
                                                                    <h:outputText rendered="#{servicemanWrapper.errorMessages.get(2) eq null}" value="#{servicemanWrapper.newServiceman.phoneNumber}" />
                                                                    <h:outputText rendered="#{servicemanWrapper.errorMessages.get(2) ne null}" value="#{servicemanWrapper.errorMessages.get(2)}" />
                                                                </div>
                                                            </div>

                                                            <div class="p-formgrid p-grid">
                                                                <div class="p-field p-col-12"  style="background-color: #11a9df"><p:outputLabel class="label">Address</p:outputLabel></div>
                                                            </div>

                                                            <!-- Street Name -->
                                                            <div class="p-formgrid p-grid">
                                                                <div class="p-field p-col-1
                                                                     #{servicemanWrapper.existingServiceman ne null 
                                                                       and servicemanWrapper.existingServiceman.address.streetName ne servicemanWrapper.newServiceman.address.streetName ? 'modified-label-existing-serviceman' : null}">
                                                                    <p:outputLabel class="label">Street Name</p:outputLabel>
                                                                </div>

                                                                <div class="p-field p-col-5
                                                                     #{servicemanWrapper.existingServiceman ne null 
                                                                       and servicemanWrapper.existingServiceman.address.streetName ne servicemanWrapper.newServiceman.address.streetName ? 'modified-output-message-existing-serviceman' : null}">
                                                                    <h:outputText value="#{servicemanWrapper.existingServiceman.address.streetName}" />
                                                                </div>

                                                                <div class="p-field p-col-1
                                                                     #{servicemanWrapper.errorMessages.get(4) ne null ? 'error-label' : null}
                                                                     #{servicemanWrapper.existingServiceman.address.streetName ne servicemanWrapper.newServiceman.address.streetName ? 'modified-label-new-serviceman' : null}">
                                                                    <p:outputLabel class="label">Street Name</p:outputLabel>
                                                                </div>

                                                                <div class="p-field p-col-5
                                                                     #{servicemanWrapper.errorMessages.get(4) ne null ? 'error-output-message' : null}
                                                                     #{servicemanWrapper.existingServiceman.address.streetName ne servicemanWrapper.newServiceman.address.streetName ? 'modified-output-message-new-serviceman' : null}">
                                                                    <h:outputText rendered="#{servicemanWrapper.errorMessages.get(4) eq null}" value="#{servicemanWrapper.newServiceman.address.streetName}" />
                                                                    <h:outputText rendered="#{servicemanWrapper.errorMessages.get(4) ne null}" value="#{servicemanWrapper.errorMessages.get(4)}" />
                                                                </div>
                                                            </div>

                                                            <!-- Unit Number -->
                                                            <div class="p-formgrid p-grid">
                                                                <div class="p-field p-col-1
                                                                     #{servicemanWrapper.existingServiceman ne null 
                                                                       and servicemanWrapper.existingServiceman.address.unitNumber ne servicemanWrapper.newServiceman.address.unitNumber ? 'modified-label-existing-serviceman' : null}">
                                                                    <p:outputLabel class="label">Unit Number</p:outputLabel>
                                                                </div>

                                                                <div class="p-field p-col-5
                                                                     #{servicemanWrapper.existingServiceman ne null 
                                                                       and servicemanWrapper.existingServiceman.address.unitNumber ne servicemanWrapper.newServiceman.address.unitNumber ? 'modified-output-message-existing-serviceman' : null}">
                                                                    <h:outputText value="#{servicemanWrapper.existingServiceman.address.unitNumber}" />
                                                                </div>

                                                                <div class="p-field p-col-1
                                                                     #{servicemanWrapper.errorMessages.get(5) ne null ? 'error-label' : null}
                                                                     #{servicemanWrapper.existingServiceman.address.unitNumber ne servicemanWrapper.newServiceman.address.unitNumber ? 'modified-label-new-serviceman' : null}">
                                                                    <p:outputLabel class="label">Unit Number</p:outputLabel>
                                                                </div>

                                                                <div class="p-field p-col-5
                                                                     #{servicemanWrapper.errorMessages.get(5) ne null ? 'error-output-message' : null}
                                                                     #{servicemanWrapper.existingServiceman.address.unitNumber ne servicemanWrapper.newServiceman.address.unitNumber ? 'modified-output-message-new-serviceman' : null}">
                                                                    <h:outputText rendered="#{servicemanWrapper.errorMessages.get(5) eq null}" value="#{servicemanWrapper.newServiceman.address.unitNumber}" />
                                                                    <h:outputText rendered="#{servicemanWrapper.errorMessages.get(5) ne null}" value="#{servicemanWrapper.errorMessages.get(5)}" />
                                                                </div>
                                                            </div>

                                                            <!-- Building Name -->
                                                            <div class="p-formgrid p-grid">
                                                                <div class="p-field p-col-1
                                                                     #{servicemanWrapper.existingServiceman ne null 
                                                                       and servicemanWrapper.existingServiceman.address.buildingName ne servicemanWrapper.newServiceman.address.buildingName ? 'modified-label-existing-serviceman' : null}">
                                                                    <p:outputLabel class="label">Building Name</p:outputLabel>
                                                                </div>

                                                                <div class="p-field p-col-5
                                                                     #{servicemanWrapper.existingServiceman ne null 
                                                                       and servicemanWrapper.existingServiceman.address.buildingName ne servicemanWrapper.newServiceman.address.buildingName ? 'modified-output-message-existing-serviceman' : null}">
                                                                    <h:outputText value="#{servicemanWrapper.existingServiceman.address.buildingName}" />
                                                                </div>

                                                                <div class="p-field p-col-1
                                                                     #{servicemanWrapper.errorMessages.get(6) ne null ? 'error-label' : null}
                                                                     #{servicemanWrapper.existingServiceman.address.buildingName ne servicemanWrapper.newServiceman.address.buildingName ? 'modified-label-new-serviceman' : null}">
                                                                    <p:outputLabel class="label">Building Name</p:outputLabel>
                                                                </div>

                                                                <div class="p-field p-col-5
                                                                     #{servicemanWrapper.errorMessages.get(6) ne null ? 'error-output-message' : null}
                                                                     #{servicemanWrapper.existingServiceman.address.buildingName ne servicemanWrapper.newServiceman.address.buildingName ? 'modified-output-message-new-serviceman' : null}">
                                                                    <h:outputText rendered="#{servicemanWrapper.errorMessages.get(6) eq null}" value="#{servicemanWrapper.newServiceman.address.buildingName}" />
                                                                    <h:outputText rendered="#{servicemanWrapper.errorMessages.get(6) ne null}" value="#{servicemanWrapper.errorMessages.get(6)}" />
                                                                </div>
                                                            </div>

                                                            <!-- Country -->
                                                            <div class="p-formgrid p-grid">
                                                                <div class="p-field p-col-1
                                                                     #{servicemanWrapper.existingServiceman ne null 
                                                                       and servicemanWrapper.existingServiceman.address.country ne servicemanWrapper.newServiceman.address.country ? 'modified-label-existing-serviceman' : null}">
                                                                    <p:outputLabel class="label">Country</p:outputLabel>
                                                                </div>

                                                                <div class="p-field p-col-5
                                                                     #{servicemanWrapper.existingServiceman ne null 
                                                                       and servicemanWrapper.existingServiceman.address.country ne servicemanWrapper.newServiceman.address.country ? 'modified-output-message-existing-serviceman' : null}">
                                                                    <h:outputText value="#{servicemanWrapper.existingServiceman.address.country}" />
                                                                </div>

                                                                <div class="p-field p-col-1
                                                                     #{servicemanWrapper.errorMessages.get(7) ne null ? 'error-label' : null}
                                                                     #{servicemanWrapper.existingServiceman.address.country ne servicemanWrapper.newServiceman.address.country ? 'modified-label-new-serviceman' : null}">
                                                                    <p:outputLabel class="label">Country</p:outputLabel>
                                                                </div>

                                                                <div class="p-field p-col-5
                                                                     #{servicemanWrapper.errorMessages.get(7) ne null ? 'error-output-message' : null}
                                                                     #{servicemanWrapper.existingServiceman.address.country ne servicemanWrapper.newServiceman.address.country ? 'modified-output-message-new-serviceman' : null}">
                                                                    <h:outputText rendered="#{servicemanWrapper.errorMessages.get(7) eq null}" value="#{servicemanWrapper.newServiceman.address.country}" />
                                                                    <h:outputText rendered="#{servicemanWrapper.errorMessages.get(7) ne null}" value="#{servicemanWrapper.errorMessages.get(6)}" />
                                                                </div>
                                                            </div>

                                                            <!-- Postal Code -->
                                                            <div class="p-formgrid p-grid">
                                                                <div class="p-field p-col-1
                                                                     #{servicemanWrapper.existingServiceman ne null 
                                                                       and servicemanWrapper.existingServiceman.address.postal ne servicemanWrapper.newServiceman.address.postal ? 'modified-label-existing-serviceman' : null}">
                                                                    <p:outputLabel class="label">Postal Code</p:outputLabel>
                                                                </div>

                                                                <div class="p-field p-col-5
                                                                     #{servicemanWrapper.existingServiceman ne null 
                                                                       and servicemanWrapper.existingServiceman.address.postal ne servicemanWrapper.newServiceman.address.postal ? 'modified-output-message-existing-serviceman' : null}">
                                                                    <h:outputText value="#{servicemanWrapper.existingServiceman.address.postal}" />
                                                                </div>

                                                                <div class="p-field p-col-1
                                                                     #{servicemanWrapper.errorMessages.get(8) ne null ? 'error-label' : null}
                                                                     #{servicemanWrapper.existingServiceman.address.postal ne servicemanWrapper.newServiceman.address.postal ? 'modified-label-new-serviceman' : null}">
                                                                    <p:outputLabel class="label">Postal Code</p:outputLabel>
                                                                </div>

                                                                <div class="p-field p-col-5
                                                                     #{servicemanWrapper.errorMessages.get(8) ne null ? 'error-output-message' : null}
                                                                     #{servicemanWrapper.existingServiceman.address.postal ne servicemanWrapper.newServiceman.address.postal ? 'modified-output-message-new-serviceman' : null}">
                                                                    <h:outputText rendered="#{servicemanWrapper.errorMessages.get(8) eq null}" value="#{servicemanWrapper.newServiceman.address.postal}" />
                                                                    <h:outputText rendered="#{servicemanWrapper.errorMessages.get(8) ne null}" value="#{servicemanWrapper.errorMessages.get(8)}" />
                                                                </div>
                                                            </div>

                                                            <div class="p-formgrid p-grid">
                                                                <div class="p-field p-col-12"  style="background-color: #11a9df"><p:outputLabel class="label">Others</p:outputLabel></div>
                                                            </div>

                                                            <!-- Blood Type -->
                                                            <div class="p-formgrid p-grid">
                                                                <div class="p-field p-col-1
                                                                     #{servicemanWrapper.existingServiceman ne null 
                                                                       and servicemanWrapper.existingServiceman.bloodType ne servicemanWrapper.newServiceman.bloodType ? 'modified-label-existing-serviceman' : null}">
                                                                    <p:outputLabel class="label">Blood Type</p:outputLabel>
                                                                </div>

                                                                <div class="p-field p-col-5
                                                                     #{servicemanWrapper.existingServiceman ne null 
                                                                       and servicemanWrapper.existingServiceman.bloodType ne servicemanWrapper.newServiceman.bloodType ? 'modified-output-message-existing-serviceman' : null}">
                                                                    <h:outputText value="#{servicemanWrapper.existingServiceman.bloodType.bloodTypeString}" />
                                                                </div>

                                                                <div class="p-field p-col-1
                                                                     #{servicemanWrapper.errorMessages.get(9) ne null ? 'error-label' : null}
                                                                     #{servicemanWrapper.existingServiceman.bloodType ne servicemanWrapper.newServiceman.bloodType ? 'modified-label-new-serviceman' : null}">
                                                                    <p:outputLabel class="label">Blood Type</p:outputLabel>
                                                                </div>

                                                                <div class="p-field p-col-5
                                                                     #{servicemanWrapper.errorMessages.get(9) ne null ? 'error-output-message' : null}
                                                                     #{servicemanWrapper.existingServiceman.bloodType ne servicemanWrapper.newServiceman.bloodType ? 'modified-output-message-new-serviceman' : null}">
                                                                    <h:outputText rendered="#{servicemanWrapper.errorMessages.get(9) eq null}" value="#{servicemanWrapper.newServiceman.bloodType.bloodTypeString}" />
                                                                    <h:outputText rendered="#{servicemanWrapper.errorMessages.get(9) ne null}" value="#{servicemanWrapper.errorMessages.get(9)}" />
                                                                </div>
                                                            </div>

                                                            <!-- ROD -->
                                                            <div class="p-formgrid p-grid">
                                                                <div class="p-field p-col-1
                                                                     #{servicemanWrapper.existingServiceman ne null 
                                                                       and servicemanWrapper.existingServiceman.rod ne servicemanWrapper.newServiceman.rod ? 'modified-label-existing-serviceman' : null}">
                                                                    <p:outputLabel class="label">ROD</p:outputLabel>
                                                                </div>

                                                                <div class="p-field p-col-5
                                                                     #{servicemanWrapper.existingServiceman ne null 
                                                                       and servicemanWrapper.existingServiceman.rod ne servicemanWrapper.newServiceman.rod ? 'modified-output-message-existing-serviceman' : null}">
                                                                    <h:outputText value="#{servicemanAccountManagementManagedBean.renderDate(servicemanWrapper.existingServiceman.rod)}" />
                                                                </div>

                                                                <div class="p-field p-col-1
                                                                     #{servicemanWrapper.errorMessages.get(10) ne null ? 'error-label' : null}
                                                                     #{servicemanWrapper.existingServiceman.rod ne servicemanWrapper.newServiceman.rod ? 'modified-label-new-serviceman' : null}">
                                                                    <p:outputLabel class="label">ROD</p:outputLabel>
                                                                </div>

                                                                <div class="p-field p-col-5
                                                                     #{servicemanWrapper.errorMessages.get(10) ne null ? 'error-output-message' : null}
                                                                     #{servicemanWrapper.existingServiceman.rod ne servicemanWrapper.newServiceman.rod ? 'modified-output-message-new-serviceman' : null}">
                                                                    <h:outputText rendered="#{servicemanWrapper.errorMessages.get(10) eq null}" value="#{servicemanAccountManagementManagedBean.renderDate(servicemanWrapper.newServiceman.rod)}" />
                                                                    <h:outputText rendered="#{servicemanWrapper.errorMessages.get(10) ne null}" value="#{servicemanWrapper.errorMessages.get(10)}" />
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </h:panelGroup>


                                                </div>
                                            </div>
                                        </div>

                                    </p:repeat>

                                    <div class="ui-fluid">
                                        <div class="p-formgrid p-grid">
                                            <div class="p-field p-col-2 p-offset-5">
                                                <p:commandButton style="font-size: 18px;" icon="pi pi-upload" disabled="#{servicemanAccountManagementManagedBean.servicemenToCreate.size() eq 0 and servicemanAccountManagementManagedBean.servicemenToUpdate.size() eq 0}" 
                                                                 value="Import" title="Import" process="@this" update="formAllServicemen" actionListener="#{servicemanAccountManagementManagedBean.importSelectedServicemen}">
                                                    <p:confirm header="Bulk Import" escape="false" message="Selected servicemen will be imported to the system. Do you want to proceed?" icon="pi pi-exclamation-triangle" />
                                                </p:commandButton>
                                            </div>
                                        </div>
                                    </div>                                   

                                </div>
                            </div>
                        </ui:fragment>
                    </h:panelGroup>
                </p:outputPanel>
            </p:dialog>


        </h:form>

    </ui:define>
</ui:composition>